/* ===================================
   تحسينات التصميم المتجاوب لنظام مهووس برو
   =================================== */

/* === 1. الجداول - أهم تحسين! === */
@media (max-width: 1024px) {
  /* جعل حاوية الجداول قابلة للتمرير */
  table {
    display: block;
    overflow-x: auto;
    white-space: nowrap;
    -webkit-overflow-scrolling: touch;
  }
  
  thead, tbody, tr {
    display: table;
    width: 100%;
    table-layout: fixed;
  }
  
  th, td {
    font-size: 0.875rem !important;
    padding: 0.5rem !important;
  }
}

@media (max-width: 768px) {
  /* تصغير الخط أكثر على الجوال */
  th, td {
    font-size: 0.75rem !important;
    padding: 0.375rem !important;
  }
  
  /* إخفاء بعض الأعمدة غير الضرورية */
  th:nth-child(n+6), 
  td:nth-child(n+6) {
    display: none;
  }
}

/* === 2. البطاقات === */
@media (max-width: 1024px) {
  /* تحويل الشبكات إلى عمودين */
  .grid-cols-4 {
    grid-template-columns: repeat(2, 1fr) !important;
  }
  
  .grid-cols-3 {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

@media (max-width: 640px) {
  /* تحويل الشبكات إلى عمود واحد */
  .grid-cols-4,
  .grid-cols-3,
  .grid-cols-2 {
    grid-template-columns: 1fr !important;
  }
  
  /* تقليل المسافات */
  .gap-6 {
    gap: 0.75rem !important;
  }
  
  .gap-4 {
    gap: 0.5rem !important;
  }
}

/* === 3. الأزرار === */
@media (max-width: 768px) {
  /* تحسين حجم الأزرار للمس */
  button {
    min-height: 44px;
    min-width: 44px;
    font-size: 0.875rem !important;
  }
  
  /* تحويل مجموعات الأزرار الأفقية إلى عمودية */
  .flex.gap-2 button,
  .flex.gap-3 button,
  .flex.gap-4 button {
    width: 100%;
  }
  
  .flex.gap-2,
  .flex.gap-3,
  .flex.gap-4 {
    flex-direction: column !important;
  }
}

/* === 4. النماذج والحقول === */
@media (max-width: 768px) {
  /* منع التكبير التلقائي في iOS */
  input, select, textarea {
    font-size: 16px !important;
  }
  
  /* تحويل الحقول الأفقية إلى عمودية */
  .grid.grid-cols-2,
  .grid.grid-cols-3 {
    grid-template-columns: 1fr !important;
  }
  
  /* تحسين المسافات */
  .space-y-4 > * + * {
    margin-top: 0.75rem !important;
  }
}

/* === 5. النوافذ المنبثقة (Modals) === */
@media (max-width: 768px) {
  /* تحسين حجم النوافذ */
  .fixed.inset-0 > div {
    max-width: 95vw !important;
    max-height: 90vh !important;
    margin: 1rem auto !important;
  }
  
  /* تقليل padding */
  .p-6 {
    padding: 1rem !important;
  }
  
  .p-8 {
    padding: 1.5rem !important;
  }
}

/* === 6. الفلاتر وأدوات البحث === */
@media (max-width: 1024px) {
  /* تحويل الفلاتر إلى شبكة */
  .flex.flex-wrap.gap-4 {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

@media (max-width: 640px) {
  /* تحويل الفلاتر إلى عمود واحد */
  .flex.flex-wrap.gap-4 {
    display: grid !important;
    grid-template-columns: 1fr !important;
  }
  
  /* تحسين حقول البحث */
  input[type="text"],
  input[type="search"] {
    width: 100% !important;
  }
}

/* === 7. الإحصائيات والأرقام === */
@media (max-width: 768px) {
  /* تصغير حجم الأرقام */
  .text-3xl {
    font-size: 1.5rem !important;
  }
  
  .text-2xl {
    font-size: 1.25rem !important;
  }
  
  .text-xl {
    font-size: 1.125rem !important;
  }
}

/* === 8. القوائم المنسدلة === */
@media (max-width: 768px) {
  select {
    padding-right: 2.5rem !important;
    background-size: 1rem !important;
  }
}

/* === 9. الترقيم (Pagination) === */
@media (max-width: 640px) {
  /* إخفاء أرقام الصفحات الوسطى */
  .flex.items-center.justify-center button:not(:first-child):not(:last-child):not(.bg-blue-600) {
    display: none !important;
  }
  
  /* تصغير الأزرار */
  .flex.items-center.justify-center button {
    padding: 0.5rem !important;
    min-width: 40px !important;
  }
}

/* === 10. الرسائل والإشعارات === */
@media (max-width: 768px) {
  .fixed.top-4.right-4 {
    top: 1rem !important;
    right: 1rem !important;
    left: 1rem !important;
  }
}

/* === 11. تحسينات خاصة بصفحة الطلبات === */
@media (max-width: 1024px) {
  /* تحسين عرض معلومات الطلب */
  .flex.justify-between {
    flex-direction: column !important;
    gap: 0.5rem !important;
  }
  
  /* تحسين أزرار الإجراءات */
  .flex.gap-2.items-center {
    flex-wrap: wrap !important;
  }
}

/* === 12. تحسينات خاصة بصفحة الموردين === */
@media (max-width: 768px) {
  /* تحسين عرض بطاقات الموردين */
  .grid.grid-cols-1.md\\:grid-cols-2.lg\\:grid-cols-3 {
    grid-template-columns: 1fr !important;
  }
}

/* === 13. تحسينات خاصة بصفحة المصروفات === */
@media (max-width: 768px) {
  /* تحسين عرض المصروفات */
  .space-y-2 {
    gap: 0.5rem !important;
  }
}

/* === 14. تحسينات خاصة بصفحة شركات الشحن === */
@media (max-width: 768px) {
  /* تحسين عرض بطاقات شركات الشحن */
  .grid.grid-cols-2.md\\:grid-cols-4 {
    grid-template-columns: 1fr !important;
  }
}

/* === 15. تحسينات عامة === */
@media (max-width: 768px) {
  /* تحسين العناوين */
  h1 {
    font-size: 1.5rem !important;
  }
  
  h2 {
    font-size: 1.25rem !important;
  }
  
  h3 {
    font-size: 1.125rem !important;
  }
  
  /* تحسين المسافات العامة */
  .p-6 {
    padding: 1rem !important;
  }
  
  .p-4 {
    padding: 0.75rem !important;
  }
  
  .px-6 {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }
  
  .py-6 {
    padding-top: 1rem !important;
    padding-bottom: 1rem !important;
  }
  
  /* تحسين الصور */
  img {
    max-width: 100% !important;
    height: auto !important;
  }
}

/* === 16. تحسين التمرير === */
@media (max-width: 768px) {
  .overflow-x-auto {
    -webkit-overflow-scrolling: touch;
  }
  
  /* إخفاء شريط التمرير على الجوال */
  .overflow-x-auto::-webkit-scrollbar {
    height: 4px;
  }
  
  .overflow-x-auto::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
  }
}

/* === 17. تحسينات للطباعة === */
@media print {
  /* إخفاء العناصر غير الضرورية */
  aside, header, button, .no-print {
    display: none !important;
  }
  
  /* تحسين الجداول */
  table {
    page-break-inside: auto;
  }
  
  tr {
    page-break-inside: avoid;
    page-break-after: auto;
  }
  
  /* تحسين الألوان */
  * {
    color: black !important;
    background: white !important;
  }
}

/* === 18. تحسينات للشاشات الكبيرة === */
@media (min-width: 1920px) {
  .container {
    max-width: 1800px !important;
    margin: 0 auto !important;
  }
}

/* === 19. تحسينات للأجهزة اللوحية === */
@media (min-width: 768px) and (max-width: 1024px) {
  /* تحسين الجداول */
  th, td {
    font-size: 0.875rem !important;
    padding: 0.5rem !important;
  }
  
  /* تحسين البطاقات */
  .grid-cols-4 {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

/* === 20. إصلاح مشاكل RTL === */
[dir="rtl"] {
  /* إصلاح المسافات */
  .space-x-2 > * + * {
    margin-left: 0 !important;
    margin-right: 0.5rem !important;
  }
  
  .space-x-3 > * + * {
    margin-left: 0 !important;
    margin-right: 0.75rem !important;
  }
  
  .space-x-4 > * + * {
    margin-left: 0 !important;
    margin-right: 1rem !important;
  }
}
